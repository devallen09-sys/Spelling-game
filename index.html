
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Spelling Game</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">
    <header class="app__header">
      <h1>Spelling Game</h1>
      <nav class="tabs" role="tablist">
        <button class="tab is-active" data-tab="test" role="tab" aria-selected="true">Test</button>
        <button class="tab teacher-only" data-tab="edit" role="tab" aria-selected="false">Edit Words</button>
        <button class="tab teacher-only" data-tab="settings" role="tab" aria-selected="false">Settings</button>
      </nav>
      <button id="lockBtn" class="lock" title="Lock/Unlock teacher mode" aria-label="Lock/Unlock">ðŸ”“</button>
    </header>

    <main class="app__body">
      <!-- TEST TAB -->
      <section id="tab-test" class="tabpanel is-active" role="tabpanel" aria-labelledby="test">
        <div class="panel">
          <div class="panel__header">
            <h2>Test</h2>
            <div class="stats">
              <span id="progressText">0 / 0</span>
              <div class="progress">
                <div id="progressBar" class="progress__bar" style="width:0%"></div>
              </div>
            </div>
          </div>

          <div id="preTest" class="pretest">
            <p>Press start to hear a word. Type it correctly to move on. Finish all words to win.</p>
            <button id="startBtn" class="btn btn--primary">Start Test</button>
          </div>

          <div id="inTest" class="contest is-hidden">
            <div class="tts">
              <button id="speakBtn" class="btn btn--icon" title="Speak word" aria-label="Speak word">
                ðŸ”Š Word
              </button>
              <button id="speakSentenceBtn" class="btn btn--icon" title="Speak sentence" aria-label="Speak sentence">
                ðŸ”Š Sentence
              </button>
              <select id="voiceSelect" class="select"></select>
              <label class="sr-only" for="voiceSelect">Voice</label>
            </div>

            <form id="answerForm" autocomplete="off">
              <label for="answerInput" class="label">Type the word:</label>
              <input id="answerInput" class="input" type="text" spellcheck="false" autocomplete="off" />
              <div class="controls">
                <button type="submit" class="btn btn--primary">Check</button>
                <button id="dontKnowBtn" type="button" class="btn btn--ghost">I don't know</button>
              </div>
            </form>

            <div id="feedback" class="feedback" aria-live="polite"></div>
            <div id="sentenceText" class="sentence is-hidden"></div>

            <div class="queue">
              <small>Remaining words will recycle until you spell them correctly. The actual word is never shown.</small>
            </div>
          </div>

          <div id="postTest" class="posttest is-hidden">
            <h3>Great job! ðŸŽ‰</h3>
            <p>You mastered all the words.</p>
            <div class="summary">
              <p>Total words: <span id="sumTotal">0</span></p>
              <p>Attempts: <span id="sumAttempts">0</span></p>
              <p>Correct on first try: <span id="sumFirstTry">0</span></p>
            </div>
            <button id="restartBtn" class="btn">Restart</button>
          </div>
        </div>
      </section>

      <!-- EDIT TAB (Teacher only) -->
      <section id="tab-edit" class="tabpanel teacher-only" role="tabpanel" aria-labelledby="edit">
        <div class="panel">
          <div class="panel__header">
            <h2>Edit Words</h2>
            <p>Enter one per line as <strong>word</strong> or <strong>word | sentence</strong>. (You can also use a tab instead of |)</p>
          </div>
          <textarea id="wordsTextarea" class="textarea" rows="14" spellcheck="false"></textarea>
          <div class="controls">
            <button id="saveWordsBtn" class="btn btn--primary">Save Words</button>
            <button id="resetWordsBtn" class="btn btn--ghost">Reset to Sample</button>
            <button id="exportBtn" class="btn">Export .txt</button>
            <input id="importInput" type="file" accept=".txt" class="fileinput" />
          </div>
          <small class="hint">Example: <code>bear | The bear slept all winter.</code> or <code>bare | Please walk in bare feet.</code></small>
        </div>
      </section>

      <!-- SETTINGS TAB (Teacher only) -->
      <section id="tab-settings" class="tabpanel teacher-only" role="tabpanel" aria-labelledby="settings">
        <div class="panel">
          <div class="panel__header">
            <h2>Settings</h2>
          </div>
          <div class="settings">
            <label class="checkbox">
              <input id="caseInsensitive" type="checkbox" checked />
              Ignore UPPER/lower case (recommended)
            </label>
            <label class="checkbox">
              <input id="trimSpaces" type="checkbox" checked />
              Ignore leading/trailing spaces
            </label>
            <label class="checkbox">
              <input id="autoSpeak" type="checkbox" checked />
              Auto-speak each new word
            </label>
            <label class="checkbox">
              <input id="autoSpeakSentence" type="checkbox" checked />
              Auto-speak example sentence (if available)
            </label>
            <label class="checkbox">
              <input id="showSentenceText" type="checkbox" />
              Show the sentence text during test (off by default)
            </label>
            <label class="checkbox">
              <input id="repeatMissesSooner" type="checkbox" checked />
              Repeat missed words sooner
            </label>
          </div>
          <div class="controls">
            <button id="saveSettingsBtn" class="btn btn--primary">Save Settings</button>
            <button id="resetSettingsBtn" class="btn btn--ghost">Reset Settings</button>
          </div>
          <div class="panel">
            <h3>Teacher Lock</h3>
            <p>Set a PIN to hide Edit/Settings from test takers on this device.</p>
            <div class="controls">
              <button id="enableLockBtn" class="btn btn--primary">Enable Lock</button>
              <button id="disableLockBtn" class="btn btn--ghost">Disable Lock</button>
            </div>
            <small class="hint">When locked, only the Test tab is visible. Click the ðŸ”’ icon to unlock with your PIN.</small>
          </div>
        </div>
      </section>
    </main>

    <footer class="app__footer">
      <small>Teacher Lock hides word bank & settings. Words are never revealed during the test.</small>
    </footer>
  </div>

  <div id="errorToast" class="toast is-hidden" role="alert"></div>

  <script src="script.js"></script>
</body>
</html>
